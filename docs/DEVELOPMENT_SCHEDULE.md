# Bill&Pay ê°œë°œì¼ì • ë¡œë“œë§µ

> ì‘ì„±ì¼: 2026-02-20
> ê¸°ê°„: 4ì£¼ (2026-02-24 ~ 2026-03-20)
> ëª©í‘œ: ìš´ì˜ ì•ˆì •ì„± í™•ë³´ ë° í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„

---

## 1. í”„ë¡œì íŠ¸ í˜„í™© ìš”ì•½

### êµ¬í˜„ ì™„ë£Œ í•­ëª©

| ì˜ì—­ | í•­ëª© | ìˆ˜ëŸ‰ |
|------|------|------|
| **ë°±ì—”ë“œ** | Controller | 25ê°œ (API 17 + Platform 7 + Webhook 1) |
| | Service | 36ê°œ |
| | Entity | 28ê°œ |
| | Repository | 28ê°œ |
| | DTO | 74ê°œ (Request 28 + Response 41 + ê¸°íƒ€ 5) |
| | Enum | 28ê°œ |
| | Flyway ë§ˆì´ê·¸ë ˆì´ì…˜ | 12ê°œ (public 4 + tenant 8) |
| **í”„ë¡ íŠ¸ì—”ë“œ** | í˜ì´ì§€/ë¼ìš°íŠ¸ | 42ê°œ |
| | ë¹„ì¦ˆë‹ˆìŠ¤ ì»´í¬ë„ŒíŠ¸ | 20ê°œ |
| | UI ì»´í¬ë„ŒíŠ¸ | 113ê°œ (19ê°œ ì¹´í…Œê³ ë¦¬) |
| | API í´ë¼ì´ì–¸íŠ¸ | 15ê°œ |
| | íƒ€ì… ì •ì˜ | 12ê°œ |
| **ì¸í”„ë¼** | Docker Compose | 3ê°œ (dev, prod, nixos) |
| | í™˜ê²½ ì„¤ì • | .env, .env.production, application-prod.yml |
| | ë¹Œë“œ | Gradle + Bun ì •ìƒ ë¹Œë“œ í™•ì¸ |

### í•µì‹¬ ì•„í‚¤í…ì²˜ êµ¬í˜„ ì™„ë£Œ

- ë©€í‹°í…Œë„ŒíŠ¸ (Schema-per-Tenant, ScopedValue)
- ltree ê¸°ë°˜ 5ë‹¨ê³„ ì¡°ì§ ê³„ì¸µ + ê¶Œí•œ ì œì–´
- ë³µì‹ë¶€ê¸° ì •ì‚° ì—”ì§„ (Zero-Sum ê²€ì¦, ë¶€ë¶„ì·¨ì†Œ ë¹„ë¡€ ê³„ì‚°)
- JWT ì¸ì¦ (Access + Refresh Token)
- KORPAY ì›¹í›… ì²˜ë¦¬ (HMAC-SHA256, ë©±ë“±ì„±)
- í”Œë«í¼ ê´€ë¦¬ (í…Œë„ŒíŠ¸ ìƒì„±, ê³µì§€ì‚¬í•­, ê°ì‚¬ ë¡œê·¸, ëª¨ë‹ˆí„°ë§)

### ë¯¸êµ¬í˜„ í•µì‹¬ í•­ëª©

| ìš°ì„ ìˆœìœ„ | í•­ëª© | ìƒíƒœ |
|----------|------|------|
| **Critical** | í…ŒìŠ¤íŠ¸ (BE 2ê°œ, FE 0ê°œ) | âŒ |
| **Critical** | CI/CD íŒŒì´í”„ë¼ì¸ | âŒ |
| **High** | 2FA (TOTP) | âŒ (DB ìŠ¤í‚¤ë§ˆë§Œ ì¡´ì¬) |
| **High** | ëª¨ë‹ˆí„°ë§ (Micrometer + Prometheus) | âŒ |
| **High** | êµ¬ì¡°í™” ë¡œê¹… (JSON) | ğŸŸ¡ ê¸°ë³¸ë§Œ |
| **Medium** | ê°œì¸ì •ë³´ AES-256 ì•”í˜¸í™” | ğŸŸ¡ ë¶€ë¶„ |
| **Medium** | ì •ì‚° í™•ì •/ê²€ì¦ ë°°ì¹˜ | âŒ |
| **Medium** | DB íŒŒí‹°ì…˜ ìë™ ê´€ë¦¬ | ğŸŸ¡ ì´ˆê¸°í™”ë§Œ |
| **Low** | ë°±ì—…/ë³µêµ¬ ìë™í™” | âŒ |
| **Low** | ë¡œê·¸ ìˆ˜ì§‘ (ELK) | âŒ |
| **Low** | ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (Grafana) | âŒ |

---

## 2. 4ì£¼ ìƒì„¸ ë¡œë“œë§µ

```
Week 1 â”€â”€â”€ ì½”ë“œ ì•ˆì •í™” & í…ŒìŠ¤íŠ¸ ì¸í”„ë¼
  â”‚
Week 2 â”€â”€â”€ í•µì‹¬ í…ŒìŠ¤íŠ¸ ì‘ì„± & ë³´ì•ˆ ê°•í™” (2FA)
  â”‚
Week 3 â”€â”€â”€ ëª¨ë‹ˆí„°ë§Â·ë¡œê¹… & ë°°ì¹˜ ì‘ì—… êµ¬í˜„
  â”‚
Week 4 â”€â”€â”€ í†µí•© í…ŒìŠ¤íŠ¸ & ìš´ì˜ ì¤€ë¹„ & ë¬¸ì„œí™”
```

---

## 3. ì£¼ì°¨ë³„ ìƒì„¸ ì¼ì •

### Week 1: ì½”ë“œ ì•ˆì •í™” & í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ (02/24 ~ 02/28)

> ëª©í‘œ: ì•ˆì •ì ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•, CI íŒŒì´í”„ë¼ì¸ ê¸°ë³¸ ì…‹ì—…

| # | ì‘ì—… í•­ëª© | ì˜ì—­ | ìš°ì„ ìˆœìœ„ | ì‚°ì¶œë¬¼ |
|---|----------|------|----------|--------|
| 1-1 | í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• (BE) | BE | Critical | build.gradle í…ŒìŠ¤íŠ¸ ì„¤ì •, TestContainers ë„ì… |
| 1-2 | í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• (FE) | FE | Critical | vitest ì„¤ì •, testing-library/svelte ë„ì… |
| 1-3 | GitHub Actions CI íŒŒì´í”„ë¼ì¸ | Infra | Critical | .github/workflows/ci.yml |
| 1-4 | .gitignore ì •ë¹„ | Infra | High | nohup.out, backend.log, .ruff_cache ì œì™¸ |
| 1-5 | í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ ê°•í™” | BE | High | í•˜ë“œì½”ë”©ëœ ì‹œí¬ë¦¿ ì œê±°, í”„ë¡œë•ì…˜ í•„ìˆ˜ê°’ ê²€ì¦ |
| 1-6 | Testcontainers PostgreSQL ì„¤ì • | BE | High | ë©€í‹°í…Œë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ìš© DB ì»¨í…ìŠ¤íŠ¸ |

#### ìƒì„¸ ì„¤ëª…

**1-1. ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ ì¸í”„ë¼**
- JUnit 5 + Mockito ê¸°ë³¸ ì„¤ì • í™•ì¸
- Testcontainers PostgreSQL 18 + ltree í™•ì¥ ì„¤ì •
- í…ŒìŠ¤íŠ¸ìš© Flyway ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ í™•ì¸
- `@SpringBootTest` ê¸°ë³¸ ì»¨í…ìŠ¤íŠ¸ ë¡œë”© ê²€ì¦
- í…ŒìŠ¤íŠ¸ í”„ë¡œíŒŒì¼ (`application-test.yml`) ì‘ì„±

**1-2. í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ ì¸í”„ë¼**
- vitest ì˜ì¡´ì„± ì¶”ê°€ (`bun add -D vitest @testing-library/svelte`)
- vite.config.tsì— í…ŒìŠ¤íŠ¸ ì„¤ì • ì¶”ê°€
- ìƒ˜í”Œ í…ŒìŠ¤íŠ¸ ì‘ì„± (utils.ts ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- CIì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í™•ì¸

**1-3. CI íŒŒì´í”„ë¼ì¸**
```yaml
# ê¸°ë³¸ êµ¬ì¡°
on: [push, pull_request]
jobs:
  backend-test:    # ./gradlew test
  frontend-test:   # bun run test
  build-check:     # ./gradlew build + bun run build
```

---

### Week 2: í•µì‹¬ í…ŒìŠ¤íŠ¸ & ë³´ì•ˆ ê°•í™” (03/02 ~ 03/06)

> ëª©í‘œ: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ë³´, 2FA êµ¬í˜„

| # | ì‘ì—… í•­ëª© | ì˜ì—­ | ìš°ì„ ìˆœìœ„ | ì‚°ì¶œë¬¼ |
|---|----------|------|----------|--------|
| 2-1 | ì •ì‚° ì—”ì§„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | BE | Critical | FeeCalculation, ZeroSum, PartialCancel í…ŒìŠ¤íŠ¸ |
| 2-2 | ì›¹í›… ì²˜ë¦¬ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | BE | Critical | ì„œëª… ê²€ì¦, íŒŒì‹±, ë©±ë“±ì„± í…ŒìŠ¤íŠ¸ |
| 2-3 | ì¸ì¦/ê¶Œí•œ í…ŒìŠ¤íŠ¸ | BE | High | JWT ë°œê¸‰/ê°±ì‹ , ltree ê¶Œí•œ ê²€ì¦ |
| 2-4 | 2FA (TOTP) ë°±ì—”ë“œ êµ¬í˜„ | BE | High | TotpService, AuthController 2FA ì—”ë“œí¬ì¸íŠ¸ |
| 2-5 | 2FA (TOTP) í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ | FE | High | QR ì„¤ì • UI, OTP ì…ë ¥ ë¡œê·¸ì¸ í”Œë¡œìš° |
| 2-6 | API í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ (FE) | FE | Medium | ì£¼ìš” API í˜¸ì¶œ ëª¨í‚¹ í…ŒìŠ¤íŠ¸ |

#### ìƒì„¸ ì„¤ëª…

**2-1. ì •ì‚° ì—”ì§„ í…ŒìŠ¤íŠ¸ (ìµœìš°ì„ )**
```
ëŒ€ìƒ í´ë˜ìŠ¤:
- FeeCalculationService: ê³„ì¸µë³„ ë§ˆì§„ ê³„ì‚° ì •í™•ì„±
- ZeroSumValidator: |ì´ë²¤íŠ¸ ê¸ˆì•¡| = SUM(ì •ì‚° amount) ê²€ì¦
- PartialCancelCalculator: ë¶€ë¶„ì·¨ì†Œ ë¹„ë¡€ ê³„ì‚°, ë‹¨ìˆ˜ ì°¨ì´ í¡ìˆ˜
- SettlementCreationService: ì´ë²¤íŠ¸ â†’ ì •ì‚° ìƒì„± íë¦„
- DailySettlementService: ì¼ë³„ ì •ì‚° ì§‘ê³„

í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:
- 5ë‹¨ê³„ ê³„ì¸µ ìˆ˜ìˆ˜ë£Œ ë¶„ë°° (ì •ìƒ ì¼€ì´ìŠ¤)
- ë¶€ë¶„ì·¨ì†Œ (50%, ë‹¤ì¤‘ ë¶€ë¶„ì·¨ì†Œ)
- Zero-Sum ìœ„ë°˜ ì‹œ ì˜ˆì™¸ ë°œìƒ
- BigDecimal ë‹¨ìˆ˜ ì°¨ì´ ì²˜ë¦¬
```

**2-4. 2FA (TOTP) êµ¬í˜„**
```
ë°±ì—”ë“œ:
- TotpService (ì‹œí¬ë¦¿ ìƒì„±, ì½”ë“œ ê²€ì¦)
- /api/auth/2fa/setup (QR ì½”ë“œ ë°˜í™˜)
- /api/auth/2fa/verify (ì½”ë“œ ê²€ì¦ + JWT ë°œê¸‰)
- /api/auth/2fa/enable, /disable
- ì´íŒ(DISTRIBUTOR) ê³„ì • í•„ìˆ˜ ì ìš©

í”„ë¡ íŠ¸ì—”ë“œ:
- 2FA ì„¤ì • í˜ì´ì§€ (QR ì½”ë“œ í‘œì‹œ, ë°±ì—… ì½”ë“œ)
- ë¡œê·¸ì¸ 2ë‹¨ê³„ (ë¹„ë°€ë²ˆí˜¸ â†’ OTP ì…ë ¥)
```

---

### Week 3: ëª¨ë‹ˆí„°ë§Â·ë¡œê¹… & ë°°ì¹˜ ì‘ì—… (03/09 ~ 03/13)

> ëª©í‘œ: ìš´ì˜ ê°€ì‹œì„± í™•ë³´, ì •ì‚° ë°°ì¹˜ ìë™í™”

| # | ì‘ì—… í•­ëª© | ì˜ì—­ | ìš°ì„ ìˆœìœ„ | ì‚°ì¶œë¬¼ |
|---|----------|------|----------|--------|
| 3-1 | Micrometer + Prometheus ì„¤ì • | BE | High | ì˜ì¡´ì„± ì¶”ê°€, /actuator/prometheus ì—”ë“œí¬ì¸íŠ¸ |
| 3-2 | ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì¶”ê°€ | BE | High | ì •ì‚° ì²˜ë¦¬ëŸ‰, ì›¹í›… ì§€ì—°ì‹œê°„, API ì‘ë‹µì‹œê°„ |
| 3-3 | êµ¬ì¡°í™” ë¡œê¹… (Logback JSON) | BE | High | logback-spring.xml, RequestId ì¶”ì  |
| 3-4 | ì •ì‚° í™•ì • ë°°ì¹˜ êµ¬í˜„ | BE | Medium | PENDING â†’ CONFIRMED ìë™ ì „í™˜ ìŠ¤ì¼€ì¤„ëŸ¬ |
| 3-5 | ë°ì´í„° ì •í•©ì„± ê²€ì¦ ë°°ì¹˜ | BE | Medium | Zero-Sum ì¼ì¼ ê²€ì¦, ì‹¤íŒ¨ ì‹œ ë³´ë¥˜ + ì•Œë¦¼ |
| 3-6 | DB íŒŒí‹°ì…˜ ìë™ ê´€ë¦¬ | BE | Medium | í–¥í›„ 30ì¼ íŒŒí‹°ì…˜ ìë™ ìƒì„± ìŠ¤ì¼€ì¤„ëŸ¬ |
| 3-7 | í”„ë¡ íŠ¸ì—”ë“œ ì™„ì„±ë„ ì ê²€ | FE | Medium | UX ë²„ê·¸ ìˆ˜ì •, ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„  |

#### ìƒì„¸ ì„¤ëª…

**3-1. Micrometer ì„¤ì •**
```gradle
// build.gradle ì¶”ê°€
implementation 'io.micrometer:micrometer-registry-prometheus'
```
```yaml
# application.yml
management:
  endpoints:
    web:
      exposure:
        include: health,prometheus,info
  metrics:
    tags:
      application: billpay
```

**3-2. ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­**
```
ìˆ˜ì§‘ ëŒ€ìƒ:
- billpay.settlement.created (Counter): ì •ì‚° ìƒì„± ê±´ìˆ˜
- billpay.settlement.batch.duration (Timer): ë°°ì¹˜ ì²˜ë¦¬ ì‹œê°„
- billpay.webhook.processing.duration (Timer): ì›¹í›… ì²˜ë¦¬ ì‹œê°„
- billpay.api.response.time (Timer): API ì‘ë‹µ ì‹œê°„
- billpay.tenant.request.count (Counter): í…Œë„ŒíŠ¸ë³„ ìš”ì²­ ìˆ˜
```

**3-4. ì •ì‚° í™•ì • ë°°ì¹˜**
```
ì‹¤í–‰ ì£¼ê¸°: ë§¤ì¼ 00:00 KST
ë¡œì§:
1. settlement_date <= CURRENT_DATEì¸ PENDING ìƒíƒœ ì¡°íšŒ
2. ë°ì´í„° ì •í•©ì„± ê²€ì¦ í†µê³¼ ì—¬ë¶€ í™•ì¸
3. ìƒíƒœ CONFIRMEDë¡œ ì¼ê´„ ë³€ê²½
4. ê²°ê³¼ ë¡œê·¸ ê¸°ë¡
```

---

### Week 4: í†µí•© í…ŒìŠ¤íŠ¸ & ìš´ì˜ ì¤€ë¹„ (03/16 ~ 03/20)

> ëª©í‘œ: E2E ê²€ì¦, í”„ë¡œë•ì…˜ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ

| # | ì‘ì—… í•­ëª© | ì˜ì—­ | ìš°ì„ ìˆœìœ„ | ì‚°ì¶œë¬¼ |
|---|----------|------|----------|--------|
| 4-1 | í†µí•© í…ŒìŠ¤íŠ¸: ì›¹í›… â†’ ì •ì‚° íë¦„ | BE | Critical | ì›¹í›… ìˆ˜ì‹  â†’ ê±°ë˜ ìƒì„± â†’ ì •ì‚° ìë™ ìƒì„± E2E |
| 4-2 | í†µí•© í…ŒìŠ¤íŠ¸: ë©€í‹°í…Œë„ŒíŠ¸ ê²©ë¦¬ | BE | High | í…Œë„ŒíŠ¸ ê°„ ë°ì´í„° ê²©ë¦¬ ê²€ì¦ |
| 4-3 | ê°œì¸ì •ë³´ ì•”í˜¸í™” ì ìš© | BE | High | AES-256 ì•”í˜¸í™” ì„œë¹„ìŠ¤, ê³„ì¢Œë²ˆí˜¸Â·ì£¼ë¯¼ë²ˆí˜¸ ëŒ€ìƒ |
| 4-4 | ë°±ì—…/ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸ | Infra | Medium | pg_dump ìë™ ë°±ì—…, í…Œë„ŒíŠ¸ë³„ ë³µêµ¬ í…ŒìŠ¤íŠ¸ |
| 4-5 | ìš´ì˜ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„± | Infra | Medium | ë°°í¬ ì „ ê²€ì¦ í•­ëª© ë¬¸ì„œí™” |
| 4-6 | API ë¬¸ì„œ ì •ë¹„ | BE | Low | Swagger/OpenAPI ì—”ë“œí¬ì¸íŠ¸ ìµœì‹ í™” |
| 4-7 | í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ìµœì í™” í™•ì¸ | FE | Low | ë²ˆë“¤ ì‚¬ì´ì¦ˆ ê²€ì¦, Lighthouse ì ìˆ˜ í™•ì¸ |

#### ìƒì„¸ ì„¤ëª…

**4-1. ì›¹í›… â†’ ì •ì‚° í†µí•© í…ŒìŠ¤íŠ¸**
```
ì‹œë‚˜ë¦¬ì˜¤:
1. KORPAY ì›¹í›… ìˆ˜ì‹  (ìŠ¹ì¸)
   â†’ Transaction ìƒì„± í™•ì¸
   â†’ TransactionEvent ê¸°ë¡ í™•ì¸
   â†’ Settlement ìë™ ìƒì„± í™•ì¸ (ê³„ì¸µë³„)
   â†’ Zero-Sum ê²€ì¦ í†µê³¼ í™•ì¸

2. KORPAY ì›¹í›… ìˆ˜ì‹  (ì·¨ì†Œ)
   â†’ ì—­ë¶„ê°œ Settlement ìƒì„± í™•ì¸
   â†’ DEBIT ì—”íŠ¸ë¦¬ ê²€ì¦

3. KORPAY ì›¹í›… ìˆ˜ì‹  (ë¶€ë¶„ì·¨ì†Œ)
   â†’ ë¹„ë¡€ ê³„ì‚° ê²€ì¦
   â†’ ë‹¨ìˆ˜ ì°¨ì´ ì´íŒ í¡ìˆ˜ í™•ì¸
```

**4-3. ê°œì¸ì •ë³´ ì•”í˜¸í™”**
```
ëŒ€ìƒ í•„ë“œ:
- SettlementAccount.accountNumber (ê³„ì¢Œë²ˆí˜¸)
- BusinessEntity.registrationNumber (ì‚¬ì—…ìë²ˆí˜¸)
- PgConnection.credentials (API í‚¤/Secret)

êµ¬í˜„:
- EncryptionService (AES-256-GCM)
- @Encrypted ì–´ë…¸í…Œì´ì…˜ + JPA AttributeConverter
- ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
```

---

## 4. ë§ˆì¼ìŠ¤í†¤ ì²´í¬ë¦¬ìŠ¤íŠ¸

### M1: í…ŒìŠ¤íŠ¸ ê¸°ë°˜ í™•ë³´ (Week 1 ì™„ë£Œ ì‹œì )
- [ ] ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í™˜ê²½ (Testcontainers) ì •ìƒ ë™ì‘
- [ ] í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í™˜ê²½ (vitest) ì •ìƒ ë™ì‘
- [ ] GitHub Actions CIê°€ PRë§ˆë‹¤ ìë™ ì‹¤í–‰
- [ ] .gitignoreì— ë¯¼ê° íŒŒì¼ ì œì™¸ ì™„ë£Œ
- [ ] í•˜ë“œì½”ë”© ì‹œí¬ë¦¿ ì œê±° ì™„ë£Œ

### M2: í•µì‹¬ ë¡œì§ ê²€ì¦ & ë³´ì•ˆ (Week 2 ì™„ë£Œ ì‹œì )
- [ ] ì •ì‚° ì—”ì§„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ > 80%
- [ ] ì›¹í›… ì„œëª… ê²€ì¦ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] Zero-Sum ê²€ì¦ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] 2FA (TOTP) ë¡œê·¸ì¸ í”Œë¡œìš° ì •ìƒ ë™ì‘
- [ ] ì´íŒ ê³„ì • 2FA í•„ìˆ˜ ì ìš©

### M3: ìš´ì˜ ê°€ì‹œì„± í™•ë³´ (Week 3 ì™„ë£Œ ì‹œì )
- [ ] /actuator/prometheus ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ì‘ë‹µ
- [ ] ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ 5ì¢… ì´ìƒ ìˆ˜ì§‘ í™•ì¸
- [ ] JSON êµ¬ì¡°í™” ë¡œê¹… ì ìš© (ìš´ì˜ í”„ë¡œíŒŒì¼)
- [ ] ì •ì‚° í™•ì • ë°°ì¹˜ ì¼ì¼ ìë™ ì‹¤í–‰
- [ ] ë°ì´í„° ì •í•©ì„± ê²€ì¦ ë°°ì¹˜ ì •ìƒ ë™ì‘

### M4: í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ (Week 4 ì™„ë£Œ ì‹œì )
- [ ] ì›¹í›… â†’ ì •ì‚° E2E í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ë©€í‹°í…Œë„ŒíŠ¸ ê²©ë¦¬ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ê°œì¸ì •ë³´ AES-256 ì•”í˜¸í™” ì ìš© ì™„ë£Œ
- [ ] ë°±ì—…/ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸ ë™ì‘ ê²€ì¦
- [ ] ìš´ì˜ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¬¸ì„œ ì™„ì„±
- [ ] ì „ì²´ ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ > 50%

---

## 5. ë¦¬ìŠ¤í¬ ê´€ë¦¬

### ë†’ì€ ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ì™„í™” ë°©ì•ˆ |
|--------|------|----------|
| Testcontainers + ë©€í‹°í…Œë„ŒíŠ¸ í™˜ê²½ ì„¤ì • ë³µì¡ë„ | Week 1 ì§€ì—° | ë‹¨ì¼ í…Œë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ë¶€í„° ì‹œì‘, ì ì§„ì  í™•ì¥ |
| ì •ì‚° ì—”ì§„ í…ŒìŠ¤íŠ¸ ì‹œ ì˜ˆìƒì¹˜ ëª»í•œ ì—£ì§€ ì¼€ì´ìŠ¤ ë°œê²¬ | Week 2 ì§€ì—° + ë²„ê·¸ ìˆ˜ì • í•„ìš” | í•µì‹¬ ê²½ë¡œë§Œ ìš°ì„  ì»¤ë²„, ì—£ì§€ ì¼€ì´ìŠ¤ëŠ” ì´ìŠˆ ë“±ë¡ í›„ ì¶”í›„ ì²˜ë¦¬ |
| 2FA ë„ì… ì‹œ ê¸°ì¡´ ì¸ì¦ í”Œë¡œìš° ë³€ê²½ ë²”ìœ„ | ë¡œê·¸ì¸ ì¥ì•  ê°€ëŠ¥ | Feature Flagë¡œ ë‹¨ê³„ì  ì ìš©, ì´íŒë§Œ ìš°ì„  |

### ì¤‘ê°„ ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ì™„í™” ë°©ì•ˆ |
|--------|------|----------|
| AES-256 ì•”í˜¸í™” ì ìš© ì‹œ ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ | ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ | ë°±ì—… í›„ ë§ˆì´ê·¸ë ˆì´ì…˜, ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸ ì¤€ë¹„ |
| ì •ì‚° ë°°ì¹˜ ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì„±ëŠ¥ | ë°°ì¹˜ íƒ€ì„ì•„ì›ƒ | ì²­í¬ ë‹¨ìœ„ ì²˜ë¦¬, ë°°ì¹˜ ì‚¬ì´ì¦ˆ ì¡°ì ˆ |
| CI íŒŒì´í”„ë¼ì¸ ë¹Œë“œ ì‹œê°„ ì´ˆê³¼ | ê°œë°œ ì†ë„ ì €í•˜ | Gradle ìºì‹œ í™œìš©, ë³‘ë ¬ ë¹Œë“œ ì„¤ì • |

### ë‚®ì€ ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ì™„í™” ë°©ì•ˆ |
|--------|------|----------|
| í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ í™˜ê²½ Svelte 5 í˜¸í™˜ì„± | FE í…ŒìŠ¤íŠ¸ ì§€ì—° | @testing-library/svelte ìµœì‹  ë²„ì „ ì‚¬ìš© |
| Prometheus/Grafana ë¦¬ì†ŒìŠ¤ ë¶€ë‹´ | ì¸í”„ë¼ ë¹„ìš© ì¦ê°€ | ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”, ìš´ì˜ë§Œ ì ìš© |

---

## 6. 4ì£¼ ì´í›„ ë¡œë“œë§µ (í–¥í›„ ê³¼ì œ)

ì•„ë˜ í•­ëª©ì€ 4ì£¼ ë‚´ ë²”ìœ„ì—ì„œ ì œì™¸í•˜ë˜, ì´í›„ ë‹¨ê³„ì—ì„œ ì§„í–‰í•©ë‹ˆë‹¤.

| í•­ëª© | ìš°ì„ ìˆœìœ„ | ë¹„ê³  |
|------|----------|------|
| Grafana ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ | High | Prometheus ì—°ë™ í›„ êµ¬ì¶• |
| ELK Stack ë¡œê·¸ ìˆ˜ì§‘ | Medium | ìš´ì˜ ë¡œê·¸ ê²€ìƒ‰/ë¶„ì„ |
| ë¶„ì‚° ì¶”ì  (OpenTelemetry) | Medium | ë©€í‹°í…Œë„ŒíŠ¸ ìš”ì²­ ì¶”ì  |
| ì •ì  ë¶„ì„ (SonarQube) | Medium | CI íŒŒì´í”„ë¼ì¸ì— í†µí•© |
| CD íŒŒì´í”„ë¼ì¸ (Blue-Green ë°°í¬) | Medium | ë¬´ì¤‘ë‹¨ ë°°í¬ ìë™í™” |
| Redis ì„¸ì…˜ ì €ì¥ì†Œ | Low | ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤ í™˜ê²½ ëŒ€ë¹„ |
| ë¶€í•˜ í…ŒìŠ¤íŠ¸ (k6/JMeter) | Low | SLA ëª©í‘œê°’ ê²€ì¦ |
| í”„ë¡ íŠ¸ì—”ë“œ E2E í…ŒìŠ¤íŠ¸ (Playwright) | Low | ì£¼ìš” ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ìë™í™” |

---

## ë¶€ë¡: í˜„ì¬ ì½”ë“œ í†µê³„

### ë°±ì—”ë“œ êµ¬ì„± ìƒì„¸

```
src/main/java/com/korpay/billpay/
â”œâ”€â”€ config/          # ì„¤ì • (Security, Tenant, CORS, Flyway)
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ api/         # 17ê°œ REST Controller
â”‚   â””â”€â”€ platform/    # 7ê°œ Platform Controller + Webhook 1ê°œ
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entity/      # 28ê°œ JPA Entity
â”‚   â””â”€â”€ enums/       # 28ê°œ Enum
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ request/     # 28ê°œ Request DTO
â”‚   â”œâ”€â”€ response/    # 41ê°œ Response DTO
â”‚   â”œâ”€â”€ settlement/  # 2ê°œ ì •ì‚° DTO
â”‚   â””â”€â”€ webhook/     # 3ê°œ ì›¹í›… DTO
â”œâ”€â”€ exception/       # ì˜ˆì™¸ ì²˜ë¦¬ (GlobalExceptionHandler)
â”œâ”€â”€ repository/      # 28ê°œ Repository
â”œâ”€â”€ service/         # 36ê°œ Service
â””â”€â”€ util/            # ìœ í‹¸ë¦¬í‹°

src/test/java/       # 2ê°œ í…ŒìŠ¤íŠ¸ íŒŒì¼ (BcryptTest, PgConnectionControllerTest)
```

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì„± ìƒì„¸

```
frontend/src/
â”œâ”€â”€ api/             # 15ê°œ API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/      # 5ê°œ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ organization/# 6ê°œ ì¡°ì§ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ merchant/    # 2ê°œ ê°€ë§¹ì  ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ settlement/  # 3ê°œ ì •ì‚° ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ shared/      # 2ê°œ ê³µìœ  ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ platform/    # 2ê°œ í”Œë«í¼ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ components/ui/  # 113ê°œ UI ì»´í¬ë„ŒíŠ¸ (19 ì¹´í…Œê³ ë¦¬)
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth/        # 2ê°œ (Login, Landing)
â”‚   â”œâ”€â”€ dashboard/   # 1ê°œ
â”‚   â”œâ”€â”€ transaction/ # 1ê°œ
â”‚   â”œâ”€â”€ settlement/  # 8ê°œ
â”‚   â”œâ”€â”€ merchant/    # 6ê°œ
â”‚   â”œâ”€â”€ branch/      # 4ê°œ
â”‚   â”œâ”€â”€ terminal/    # 2ê°œ
â”‚   â”œâ”€â”€ user/        # 3ê°œ
â”‚   â”œâ”€â”€ pg-connection/# 2ê°œ
â”‚   â”œâ”€â”€ organization/# 1ê°œ
â”‚   â”œâ”€â”€ platform/    # 9ê°œ
â”‚   â””â”€â”€ misc/        # 2ê°œ
â”œâ”€â”€ stores/          # ìƒíƒœ ê´€ë¦¬
â””â”€â”€ types/           # 12ê°œ íƒ€ì… ì •ì˜
```

### Flyway ë§ˆì´ê·¸ë ˆì´ì…˜

```
db/migration/
â”œâ”€â”€ public/          # 4ê°œ (V1~V4)
â”‚   â”œâ”€â”€ V1__init_public_schema.sql
â”‚   â”œâ”€â”€ V2__seed_data.sql
â”‚   â”œâ”€â”€ V3__demo_requests_table.sql
â”‚   â””â”€â”€ V4__platform_admin_tables.sql
â””â”€â”€ tenant/          # 8ê°œ (V1~V8)
    â”œâ”€â”€ V1__init_tenant_schema.sql
    â”œâ”€â”€ V2__seed_data.sql
    â”œâ”€â”€ V3__seed_test_data.sql
    â”œâ”€â”€ V4__add_settlement_cycle.sql
    â”œâ”€â”€ V5__webhook_idempotency_and_unmapped.sql
    â”œâ”€â”€ V6__fee_configuration_history.sql
    â”œâ”€â”€ V7__add_merchant_corporate_fields.sql
    â””â”€â”€ V8__add_settlement_account_unique_constraint.sql
```
